{% extends 'base.html' %} <!-- irá extender o conteudo de base.html com o deste aqui -->

{% block title %}Formulário Reset Senha{% endblock %} <!-- titulo que entrará no espaço que foi reservado para o titulo de cada pagina -->

{% block content %} <!-- este trecho sera guardado para ser inserido em uma parte de base.html: -->
<div class="col-md-4">
    {% if validlink %} <!-- puxando uma função do django para verificar se o link de recuperação de senha é valido, se for valido executa abaixo: -->
    <p>Entre com sua nova senha para resetar.</p>
    <form action="" method="post">
        {% csrf_token %} <!-- token do django que protege formularios contra ataques CSRF -->
        <div class="mt-3">
            {{ form.new_password1.errors }} <!-- função do django, formulario para colocar a senha -->
            <label class="form-label" for="id_new_password1">Nova Senha:</label>
            <input type="password" name="new_password1" class="form-control" id="id_new_password1"> 
        </div>
        <div class="mt-3">
            {{ form.new_password2.errors }} <!-- função do django, formulario para colocar a senha novamente, se elas forem iguais sera a nova senha -->
            <label class="form-label" for="id_new_password2">Confirmação de senha:</label>
            <input type="password" name="new_password2" class="form-control" id="id_new_password2"> 
        </div>
        <button type="submit" class="btn btn-warning mt-3">Alterar Senha</button>
    </form>
    {% else %} <!-- se o link for invalido -->
    <h1>Falha na redefinição de senha</h1>
    <p>O link de redefinição de senha é inválido, possivelmente porque já foi usado. Solicite uma nova redefinição de senha.</p>
    {% endif %} <!-- fim do if -->
</div>
{% endblock %} <!-- fim do trecho que sera inserido -->